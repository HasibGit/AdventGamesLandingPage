<div class="container" fxLayout="column" fxLayoutAlign="center center">

  <section class="bubbles">
    <div class="bubble-type-2" style="top: 10vh; left: 4vw"></div>
    <div class="bubble-type-3" style="top: 5vh; left: 50vw"></div>
    <div class="bubble-type-1" style="top: 6vh; left: 40vw"></div>
    <div class="bubble-type-1" style="top: 20vh; left: 20vw"></div>
    <div class="bubble-type-1" style="top: 45vh; left: 23vw"></div>
    <div class="bubble-type-2" style="top: 70vh; left: 17vw"></div>
    <div class="bubble-type-2" style="top: 6vh; left: 80vw"></div>
    <div class="bubble-type-1" style="top: 3vh; left: 90vw"></div>
    <div class="bubble-type-1" style="top: 26vh; left: 10vw"></div>
    <div class="bubble-type-3" style="top: 28vh; left: 15vw"></div>
    <div class="bubble-type-2" style="top: 33vh; left: 8vw"></div>
    <div class="bubble-type-1" style="top: 20vh; left: 94vw"></div>
    <div class="bubble-type-3" style="top: 27vh; left: 82vw"></div>
    <div class="bubble-type-3" style="top: 38vh; left: 58vw"></div>
    <div class="bubble-type-1" style="top: 16vh; left: 45vw"></div>
    <div class="bubble-type-2" style="top: 12vh; left: 40vw"></div>
    <div class="bubble-type-1" style="top: 80vh; left: 60vw"></div>
    <div class="bubble-type-3" style="top: 95vh; left: 35vw"></div>
    <div class="bubble-type-3" style="top: 10vh; left: 32vw"></div>
    <div class="bubble-type-2" style="top: 15vh; left: 60vw"></div>
    <div class="bubble-type-3" style="top: 78vh; left: 77vw"></div>
    <div class="bubble-type-2" style="top: 55vh; left: 62vw"></div>
    <div class="bubble-type-3" style="top: 40vh; left: 42vw"></div>
    <div class="bubble-type-1" style="top: 33vh; left: 54vw"></div>
    <div class="bubble-type-1" style="top: 87vh; left: 34vw"></div>
    <div class="bubble-type-3" style="top: 79vh; left: 21vw"></div>
    <div class="bubble-type-3" style="top: 59vh; left: 43vw"></div>
    <div class="bubble-type-2" style="top: 54vh; left: 86vw"></div>
    <div class="bubble-type-1" style="top: 82vh; left: 84vw"></div>
    <div class="bubble-type-3" style="top: 21vh; left: 71vw"></div>
    <div class="bubble-type-2" style="top: 60vh; left: 92vw"></div>
    <div class="bubble-type-2" style="top: 2vh; left: 25vw"></div>
    <div class="bubble-type-1" style="top: 6vh; left: 61vw"></div>
    <div class="bubble-type-3" style="top: 24vh; left: 78vw"></div>
    <div class="bubble-type-2" style="top: 53vh; left: 93vw"></div>
    <div class="bubble-type-1" style="top: 44vh; left: 84vw"></div>
    <div class="bubble-type-1" style="top: 82vh; left: 21vw"></div>
    <div class="bubble-type-3" style="top: 10vh; left: 16vw"></div>
    <div class="bubble-type-2" style="top: 57vh; left: 1vw"></div>
    <div class="bubble-type-2" style="top: 78vh; left: 5vw"></div>
    <div class="bubble-type-2" style="top: 46vh; left: 10vw"></div>
    <div class="bubble-type-3" style="top: 42vh; left: 18vw"></div>
    <div class="bubble-type-3" style="top: 73vh; left: 7vw"></div>
    <div class="bubble-type-3" style="top: 53vh; left: 13vw"></div>
    <div class="bubble-type-2" style="top: 95vh; left: 6vw"></div>
    <div class="bubble-type-1" style="top: 93vh; left: 20vw"></div>
    <div class="bubble-type-2" style="top: 95vh; left: 50vw"></div>
    <div class="bubble-type-1" style="top: 94vh; left: 80vw"></div>
    <div class="bubble-type-2" style="top: 95vh; left:95vw"></div>
  </section>

  <div fxLayout="column" fxLayoutAlign="center center" class="lang-selection">
    <mat-chip-list aria-label="lang selection">
      <div *ngFor="let language of languages">
        <mat-chip (click)="selectLang(language)">
          <span>{{language.value}}</span>
        </mat-chip>
      </div>
    </mat-chip-list>
  </div>


  <div class="offer-card spiga-card-border" fxLayout="column" fxLayoutAlign="space-between center">
    <img src="../assets/images/long snow.svg" alt="" class="snow-img">
    <img src="../assets/images/Pizza.png" alt="" class="pizza-img">
    <section class="top-section mt-12" fxLayout="column" fxLayoutAlign="center center">
      <img src="{{brandLogoPath}}" alt="" class="brand-logo mb-20">
      <h3 class="mb-24 christmas-deadline">
        {{daysTillChristmasStarts + ('CHRISTMAS_DEADLINE' | translate)}}</h3>

      <section class="offer-description mb-24">
        <p class="offer-details">
          {{seasonDescription}}
        </p>
      </section>
    </section>

    <section class="bottom-section" fxLayout="column" fxLayoutAlign="center center">

      <ng-container *ngIf="isLoading">
        <mat-progress-bar mode="indeterminate" class="loader"></mat-progress-bar>
      </ng-container>

      <h2 class="winning-criteria text-center mb-5" *ngIf="!isLoading && offer_error && offer_error.length > 0">
        {{offer_error}}
      </h2>

      <h2 *ngIf="!isLoading && winningCriteriaContainsNumber" class="text-center mb-5 winning-criteria">
        <span>{{currentlySelectedLanguage == 'en-US' ? winningCriteriaLeft_en :
          (currentlySelectedLanguage ==
          'de-DE' ? winningCriteriaLeft_de : winningCriteriaLeft_fr) |
          translate}}</span>
        <span class="required-points">{{winningCriteriaThreshold}}</span>
        <span>{{currentlySelectedLanguage == 'en-US' ? winningCriteriaRight_en :
          (currentlySelectedLanguage ==
          'de-DE' ? winningCriteriaRight_de : winningCriteriaRight_fr) |
          translate}}</span>
      </h2>

      <h2 class="text-center mb-5 winning-criteria" *ngIf="!isLoading && !winningCriteriaContainsNumber">
        <span>{{currentlySelectedLanguage == 'en-US' ? prizeAndWinningCriteria.winning_criteria_en :
          (currentlySelectedLanguage ==
          'de-DE' ? prizeAndWinningCriteria.winning_criteria_de : prizeAndWinningCriteria.winning_criteria_fr) |
          translate}}</span>
      </h2>
      <h1 class="text-center offer mb-24" *ngIf="!isLoading">
        {{currentlySelectedLanguage == 'en-US' ? prizeAndWinningCriteria.offer_en : (currentlySelectedLanguage ==
        'de-DE' ? prizeAndWinningCriteria.offer_de : prizeAndWinningCriteria.offer_fr) | translate}}
      </h1>

      <section class="countdown mb-30" fxLayout="column" fxLayoutAlign="center center">
        <h2 class="winning-criteria">
          {{'COUNTDOWN_HEADER' | translate}}</h2>
        <countdown [config]="config" (event)="handleEvent($event)" class="count-down">
        </countdown>
      </section>

      <button class="play-game-btn">
        <span class="button-text" (click)="openGameInNewTab()">{{'PLAY_GAME' | translate}}</span></button>
    </section>
  </div>
</div>